{% extends "template.html" %}

{% block title %}{% if repository.list_filter_path %}{{repository.list_filter_path}} in {% endif %}{{repository.name}}{% if repository.path %} :: {{repository.path}}{% endif %}{% endblock %}

{% block content %}
	<h1>{{repository.name}}</h1>

	{% if repository.items %}
		<table class="table table-condensed tree-table">
			{% for item, commit in repository.items %}
				<tr>
					<td class="tree-item-name">
						{% if item.type == 'blob' %}
							<a href="{% url 'browse_blob' repository.relative_path repository.list_filter_ref item.path %}"
									title="Show {{item.name}}">{{item.name}}</a>
						{% else %}
							<a href="{% url 'browse_ref' repository.relative_path repository.list_filter_ref item.path %}"
									title="Browse {{item.name}}">{{item.name}}</a>
						{% endif %}
					</td>
					<td class="text-muted">
						<a class="text-muted"
						   href="{% url 'commit' repository.relative_path commit.hexsha %}"
						   title="{{commit.summary}}">{{commit.summary}}</a>
					</td>
				</tr>
			{% endfor %}
		</table>
	{% else %}
		<p>This is an empty repository</p>
	{% endif %}
{% endblock %}