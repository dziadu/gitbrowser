{% extends "template.html" %}
{% load humanize %}
{% load highlight %}

{% block styles %}
<link href="{% url 'styles' %}" rel="stylesheet">
{% endblock %}

{% block title %}{{commit.summary}} in {{repository.name}}{% if repository.path %} :: {{repository.path}}{% endif %}{% endblock %}

{% block content %}

	<h1>{{repository}}</h1>

	<blockquote>{{commit.summary}}</blockquote>
	{% if commit.message_without_summary %}
		<p class="commit-message">{{commit.message_without_summary|linebreaks}}</p>
	{% endif %}

	<p>
		<a href="mailto:{{commit.author.email}}">{{commit.author}}</a> on
		<time datetime="{{commit.authored_datetime|date:'c'}}"
				title="{{commit.authored_datetime}}">{{commit.authored_datetime|naturaltime}}</time>
	</p>

	{% for change in commit.changes %}
		{% highlight change.diff "text/x-patch" %}
	{% endfor %}

{% endblock %}